{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
<main class="min-h-screen w-full bg-[#1e293b] flex items-center justify-center px-4 sm:px-6 lg:px-8 py-10 sm:py-12 lg:py-16">
  <div class="w-full max-w-sm sm:max-w-md space-y-6 sm:space-y-8">
    {% for flash_error in app.flashes('verify_email_error') %}
      <div class="p-3 sm:p-4 bg-[#f97316] text-white rounded-md text-sm sm:text-base">
        {{ flash_error }}
      </div>
    {% endfor %}

    <h1 class="text-2xl sm:text-3xl font-semibold text-center text-white">Créer un compte</h1>

    {{ form_start(registrationForm, {
      'attr': {
        'class': 'bg-[#1e293b] p-5 sm:p-6 lg:p-8 rounded-xl shadow-lg space-y-5 sm:space-y-6 border border-gray-600/60'
      }
    }) }}

      {{ form_row(registrationForm.email, {
        'label_attr': {'class': 'block text-sm sm:text-base font-medium text-white'},
        'attr': {
          'class': 'w-full px-4 py-3 sm:py-3.5 rounded-md bg-white text-gray-900 placeholder-gray-500 border border-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:border-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1e293b] text-sm sm:text-base'
        }
      }) }}

      {{ form_row(registrationForm.firstName, {
        'label': 'Prénom',
        'label_attr': {'class': 'block text-sm sm:text-base font-medium text-white'},
        'attr': {
          'class': 'w-full px-4 py-3 sm:py-3.5 rounded-md bg-white text-gray-900 placeholder-gray-500 border border-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:border-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1e293b] text-sm sm:text-base'
        }
      }) }}

      {{ form_row(registrationForm.lastName, {
        'label': 'Nom',
        'label_attr': {'class': 'block text-sm sm:text-base font-medium text-white'},
        'attr': {
          'class': 'w-full px-4 py-3 sm:py-3.5 rounded-md bg-white text-gray-900 placeholder-gray-500 border border-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:border-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1e293b] text-sm sm:text-base'
        }
      }) }}

      {{ form_row(registrationForm.phoneNumber, {
        'label': 'Téléphone',
        'label_attr': {'class': 'block text-sm sm:text-base font-medium text-white'},
        'attr': {
          'class': 'w-full px-4 py-3 sm:py-3.5 rounded-md bg-white text-gray-900 placeholder-gray-500 border border-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:border-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1e293b] text-sm sm:text-base'
        }
      }) }}

      {{ form_row(registrationForm.plainPassword, {
        'label': 'Mot de passe',
        'label_attr': {'class': 'block text-sm sm:text-base font-medium text-white'},
        'attr': {
          'class': 'w-full px-4 py-3 sm:py-3.5 rounded-md bg-white text-gray-900 placeholder-gray-500 border border-gray-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:border-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1e293b] text-sm sm:text-base'
        }
      }) }}

      {# Terms checkbox #}
      <div class="flex items-start gap-3 sm:gap-2">
        <label for="{{ registrationForm.agreeTerms.vars.id }}" class="text-xs sm:text-sm leading-5 text-white">
          En cochant cette case, je confirme avoir pris connaissance et accepté les conditions générales d’inscription.
        </label>
        {{ form_widget(registrationForm.agreeTerms, {
          'attr': {
            'class': 'mt-0.5 h-4 w-4 shrink-0 text-[#f97316] focus:ring-[#f97316] border-gray-300 rounded'
          }
        }) }}
      </div>

      <button type="submit"
        class="w-full py-3 sm:py-3.5 rounded-md bg-[#f97316] text-white font-semibold hover:bg-[#ea580c] transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1e293b] text-sm sm:text-base">
        S'inscrire
      </button>
    {{ form_end(registrationForm) }}

    {# Lien de retour vers le login #}
    <div class="text-center mt-2 sm:mt-4">
      <p class="text-xs sm:text-sm text-gray-300">
        Vous avez déjà un compte ?
        <a href="{{ path('app_login') }}" class="text-[#f97316] hover:underline ml-1">Se connecter</a>
      </p>
    </div>
  </div>
</main>
{% endblock %}
