{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
<main class="min-h-screen w-full bg-[#1e293b] flex items-center justify-center px-4 sm:px-6 lg:px-8 py-10 sm:py-12 lg:py-16">
  <div class="w-full max-w-sm sm:max-w-md space-y-6 sm:space-y-8">

    {% for flash_error in app.flashes('verify_email_error') %}
      <div class="p-3 sm:p-4 border border-red-500 rounded-md text-sm sm:text-base text-red-500 bg-[#1e293b]">
        {{ flash_error }}
      </div>
    {% endfor %}

    <h1 class="text-2xl sm:text-3xl font-semibold text-center text-white">Créer un compte</h1>

    {{ form_start(registrationForm, {
      attr: {
        class: 'bg-[#1e293b] p-5 sm:p-6 lg:p-8 rounded-xl shadow-lg space-y-5 sm:space-y-6 border border-gray-600/60'
      }
    }) }}

      {# erreurs globales du formulaire (rouge) #}
      {% if form_errors(registrationForm) %}
        <div class="text-red-500 text-sm sm:text-base">
          {{ form_errors(registrationForm) }}
        </div>
      {% endif %}

      {{ form_row(registrationForm.email) }}
      {{ form_row(registrationForm.firstName, { label: 'Prénom' }) }}
      {{ form_row(registrationForm.lastName,  { label: 'Nom' }) }}
      {{ form_row(registrationForm.phoneNumber, { label: 'Téléphone' }) }}

      {# RepeatedType : afficher les deux champs #}
      {{ form_row(registrationForm.plainPassword.first,  { label: 'Mot de passe' }) }}
      {{ form_row(registrationForm.plainPassword.second, { label: 'Confirmer le mot de passe' }) }}

      {{ form_row(registrationForm.agreeTerms) }}

      <button type="submit"
        class="w-full py-3 sm:py-3.5 rounded-md bg-[#f97316] text-white font-semibold hover:bg-[#ea580c] transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[#f97316] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1e293b] text-sm sm:text-base">
        S'inscrire
      </button>

    {{ form_end(registrationForm) }}

    <div class="text-center mt-2 sm:mt-4">
      <p class="text-xs sm:text-sm text-gray-300">
        Vous avez déjà un compte ?
        <a href="{{ path('app_login') }}" class="text-[#f97316] hover:underline ml-1">Se connecter</a>
      </p>
    </div>

  </div>
</main>
{% endblock %}
